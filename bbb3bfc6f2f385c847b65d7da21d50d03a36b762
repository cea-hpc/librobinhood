{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "742110b7_df9acdfb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1018755
      },
      "writtenOn": "2021-06-27T14:43:03Z",
      "side": 1,
      "message": "Pushed a new version as I thought it would be easier than asking for changes.\n\nI changed a few names, shuffled some code around and fixed at least one bug in the error path of the last function.\n\nI also removed both append_{id,value}() and purge_ringr(). They would have been my main complaint if I had done a review:\n- the double pointer `retval`;\n- the `id_addition` argument for purge_ringr();\n- the fact that \"append_id\" does not take an id as a parameter;\n- same for \"append_value\";\n- too many side-effects overall;\n- and the execution flow was not clear to me.\n\nI _think_ I may have removed an optimization in branch_iter_fsentries() where you used to destroy the directories chain iterator and start fresh again, but I also think it was error-prone and should be added in a separate patch if you want to keep it.\n\nCheers!",
      "revId": "bbb3bfc6f2f385c847b65d7da21d50d03a36b762",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a95d4b1f_2963e5e4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2021-06-28T14:57:27Z",
      "side": 1,
      "message": "Thanks for the hard work!\n\nSome of your review points are bound to the function split and some mutualization because the function is kind of long, and I can understand them. But for one point, I am curious about which side-effects are you thinking of?",
      "parentUuid": "742110b7_df9acdfb",
      "revId": "bbb3bfc6f2f385c847b65d7da21d50d03a36b762",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68799805_7f4eda73",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1018755
      },
      "writtenOn": "2021-06-28T23:12:13Z",
      "side": 1,
      "message": "I was thinking of how you pass in `iter` into `append_id`, and then update its `value` field, and then call purge_ringr(), which itself updates `iter-\u003eringr`.\n\nMaybe side-effect isn\u0027t exactly the right word. But there was a bit of action going on in these function that was not explicit from their name.",
      "parentUuid": "a95d4b1f_2963e5e4",
      "revId": "bbb3bfc6f2f385c847b65d7da21d50d03a36b762",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}