{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f9f4f3d4_eadcc6ed",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003874
      },
      "writtenOn": "2022-07-13T14:48:59Z",
      "side": 1,
      "message": "(typo) later",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 11
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "800fc1bd_0a6843b9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2022-07-13T14:57:56Z",
      "side": 1,
      "message": "typo: dictionary",
      "range": {
        "startLine": 10,
        "startChar": 33,
        "endLine": 10,
        "endChar": 44
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8c0f92b_05a579e1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2022-07-18T10:31:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9f4f3d4_eadcc6ed",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 11
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1d226ea_7d70227a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2022-07-18T10:31:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "800fc1bd_0a6843b9",
      "range": {
        "startLine": 10,
        "startChar": 33,
        "endLine": 10,
        "endChar": 44
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8688feaa_5bcc5c8b",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 705,
      "author": {
        "id": 1003874
      },
      "writtenOn": "2022-07-13T14:48:59Z",
      "side": 1,
      "message": "(nit) when there will be a 2nd xattr to manage relative retentions, how will you name the macro?\nAlso why is there an \u0027s\u0027 to xattr?\n\n(suggest) XATTR_CCC_EXPIRES_AT",
      "range": {
        "startLine": 705,
        "startChar": 8,
        "endLine": 705,
        "endChar": 28
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "586572be_907a2732",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 705,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2022-07-18T10:31:10Z",
      "side": 1,
      "message": "Most likely \"XATTR_CCC_EXPIRES_UNTIL\" or something like that.\nDone.",
      "parentUuid": "8688feaa_5bcc5c8b",
      "range": {
        "startLine": 705,
        "startChar": 8,
        "endLine": 705,
        "endChar": 28
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4bbcd9e_2be789e5",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 715,
      "author": {
        "id": 1003874
      },
      "writtenOn": "2022-07-13T14:48:59Z",
      "side": 1,
      "message": "This algorithm can scan all xattrs for each entry, which might be expensive if there are many xattrs.\nWhen implementing a more generic way to handle xattrs, it will be a good occasion to think about something for efficient.",
      "range": {
        "startLine": 715,
        "startChar": 4,
        "endLine": 715,
        "endChar": 52
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0471980_d4253a47",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 715,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2022-07-13T14:57:56Z",
      "side": 1,
      "message": "Like getting a hash table for each attribute?\n\nThere may be a way to directly interact with xattrs parser, and \"mark\" those which will be reinterpret.",
      "parentUuid": "d4bbcd9e_2be789e5",
      "range": {
        "startLine": 715,
        "startChar": 4,
        "endLine": 715,
        "endChar": 52
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9769033_68cbaf72",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 715,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2022-07-18T10:31:10Z",
      "side": 1,
      "message": "I was thinking of a hash-table constructed beforehand and given to the posix backend. Then, when fetching each attributes, we read the table with the xattrs keys as name and cast the retrieved value.",
      "parentUuid": "c0471980_d4253a47",
      "range": {
        "startLine": 715,
        "startChar": 4,
        "endLine": 715,
        "endChar": 52
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0ea46c2_0d03bb35",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 715,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2022-07-19T13:19:53Z",
      "side": 1,
      "message": "I\u0027d say that can come later: any number of strcmp will probably be negligible compared to actual getxattr calls we have just done.\nIf that turns out to be expensive on profiling a problem a hash table or just a sorted tree can be done later, but it\u0027s probably not worth the complexity at this point -- actually building such a structure is likely going to cost more than a few extra passes...\n\n(well, if there\u0027s going to be many such attributes I guess it could make sense, leaving that to you)",
      "parentUuid": "c9769033_68cbaf72",
      "range": {
        "startLine": 715,
        "startChar": 4,
        "endLine": 715,
        "endChar": 52
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c59c1b0f_e4f86f0e",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 715,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2022-07-19T14:39:08Z",
      "side": 1,
      "message": "We do plan to have many more attributes, and while strcmp do work, it\u0027s not very portable or easy to use.\nThe hash-table would be constructed beforehand by one of the frontends and given to the backend so that it constructed only once, the backend \"just\" has to hash the key to get the value and can directly interpret it, no need for backend specific things or further allocations on that side.",
      "parentUuid": "d0ea46c2_0d03bb35",
      "range": {
        "startLine": 715,
        "startChar": 4,
        "endLine": 715,
        "endChar": 52
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8307720a_08812694",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 716,
      "author": {
        "id": 1003874
      },
      "writtenOn": "2022-07-13T14:48:59Z",
      "side": 1,
      "message": "(nit) you can reduce the overall indentation level by doing:\n\n if (strcmp(...XATTR_CCC_RETENTION) !\u003d 0)\n   continue;\n tmp \u003d ...",
      "range": {
        "startLine": 716,
        "startChar": 8,
        "endLine": 716,
        "endChar": 66
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "262dbd1d_7c0b183f",
        "filename": "src/backends/lustre/lustre.c",
        "patchSetId": 1
      },
      "lineNbr": 716,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2022-07-18T10:31:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8307720a_08812694",
      "range": {
        "startLine": 716,
        "startChar": 8,
        "endLine": 716,
        "endChar": 66
      },
      "revId": "4cc3e01af652bc099360e98e389d6fbc28c91f1a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}