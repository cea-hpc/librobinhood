{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2832f97e_257f53b3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2021-06-21T07:21:48Z",
      "side": 1,
      "message": "So, here we are, to the main patch of this set. Thanks for your reviews!\n\nI tried to minimize the function sizes, and I think names are explanotary enough. But there may be a lack of comments, so do not hesitate to report this to me.",
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89545f37_4f4c9992",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "Sorry for the double post, I needed a break",
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9108f416_e815c7b2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1018755
      },
      "writtenOn": "2021-06-22T19:54:50Z",
      "side": 1,
      "message": "It\u0027s kind of hard to remember what the old patch looked like. Do you happen to have it in your reflog somewhere, by any chance?",
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19cbd647_ea010246",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 772,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2021-06-21T07:21:48Z",
      "side": 1,
      "message": "nit: useless new line",
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bec5630d_9d466d70",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 823,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2021-06-21T07:43:37Z",
      "side": 1,
      "message": "question: I may not be familiar enough with these kind of definitions, so correct me if I\u0027m wrong.\n\nBy default, an enum starts at 0 so DIRECTORIES is 0, FSENTRIES 1 and TOTAL 2 but then by setting ANY to DIRECTORIES, does it mean that ANY is also 0 and that you cannot differentiate between ANY and DIRECTORIES? Is this right? And if so is that the behavior that we want?",
      "range": {
        "startLine": 823,
        "startChar": 4,
        "endLine": 823,
        "endChar": 28
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d2de8e9_e13c093b",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 823,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2021-06-21T07:54:21Z",
      "side": 1,
      "message": "Well, this may be a bit disturbing, but this value (`RRT_ANY`) is only used when pushing data in the ring.\n\nTo push data in a ring, we need to push in a ringr. As my ringrs are in an array (as you said, 0 for directories and 1 for fsentries), I did not want to write `ringrs[0]` or `ringrs[RRT_DIRECTORIES]` because they may lead to \"Oh, this is pushed to directories ringr\". This is why I decided on adding a fake index, with `RRT_ANY`.\n\nThe name may be wrong, `RRT_BOTH` can be a better candidate.",
      "parentUuid": "bec5630d_9d466d70",
      "range": {
        "startLine": 823,
        "startChar": 4,
        "endLine": 823,
        "endChar": 28
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d767240_2ffa2af4",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 823,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2021-06-21T08:06:30Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9d2de8e9_e13c093b",
      "range": {
        "startLine": 823,
        "startChar": 4,
        "endLine": 823,
        "endChar": 28
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a27f10db_7c3b97a4",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 843,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "suggest: since the function doesn\u0027t check for anything time-related, I think calling it \"ringr_largest_reader\" would be more accurate",
      "range": {
        "startLine": 843,
        "startChar": 0,
        "endLine": 843,
        "endChar": 19
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ce9df08_8c3f0ad9",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 854,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T11:45:14Z",
      "side": 1,
      "message": "question: why two underscores ?",
      "range": {
        "startLine": 854,
        "startChar": 0,
        "endLine": 854,
        "endChar": 2
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7538756f_a5417c55",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 907,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "suggest: remove the reader_type parameter, and call the function with values/ids[reader_type] given as simple instances of the struct rbh_ringr, rather than pointers.",
      "range": {
        "startLine": 905,
        "startChar": 23,
        "endLine": 907,
        "endChar": 58
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e64a4bee_28144d20",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 928,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "suggest: move this comment above line 932, and add a comment here to explain why you only get the total size for ids and not values. Is it because Ids have a variable length between 1 and 16 bytes ?",
      "range": {
        "startLine": 928,
        "startChar": 4,
        "endLine": 928,
        "endChar": 40
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e6289e8_f52e601d",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 946,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "suggest: I think renaming this variable to sub_directories would be clearer, if I correctly understand what it corresponds to.",
      "range": {
        "startLine": 946,
        "startChar": 29,
        "endLine": 946,
        "endChar": 41
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f347b8c3_85f171e1",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 991,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "nit: I feel like a switch for one specific statement is a bit overkill",
      "range": {
        "startLine": 991,
        "startChar": 8,
        "endLine": 991,
        "endChar": 24
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c722ddb_f4afbfb7",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 1045,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T11:45:14Z",
      "side": 1,
      "message": "nit: this part and the above one could be mutualized, as they are almost identical expect for one function call",
      "range": {
        "startLine": 1024,
        "startChar": 4,
        "endLine": 1045,
        "endChar": 5
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "228353b8_8e1da968",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 1066,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "nit: add a blank line",
      "range": {
        "startLine": 1065,
        "startChar": 4,
        "endLine": 1066,
        "endChar": 4
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35518019_5370ae31",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 1074,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T12:43:39Z",
      "side": 1,
      "message": "question: shouldn\u0027t we still attempt to destroy iter-\u003edirectories ? Or could the program crash while trying ?",
      "range": {
        "startLine": 1073,
        "startChar": 12,
        "endLine": 1074,
        "endChar": 28
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2b66ff5_52b0ff80",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 1079,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T11:45:14Z",
      "side": 1,
      "message": "suggest: to put in the above if",
      "range": {
        "startLine": 1079,
        "startChar": 16,
        "endLine": 1079,
        "endChar": 41
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "507823c5_43b3be45",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 1
      },
      "lineNbr": 1316,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-21T11:45:14Z",
      "side": 1,
      "message": "question: why not use gotos for this part ?",
      "range": {
        "startLine": 1277,
        "startChar": 4,
        "endLine": 1316,
        "endChar": 5
      },
      "revId": "17cf96c65c4a2d80211292d29508876daf0fa585",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}