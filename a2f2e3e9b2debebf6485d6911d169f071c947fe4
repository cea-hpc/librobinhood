{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ba828e0c_0d5c0631",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1018755
      },
      "writtenOn": "2021-07-01T23:42:08Z",
      "side": 1,
      "message": "For the record, this improves performance by a very satisfying amount. Depends on the shape of the filesystem, but in my test, it takes 1h to sift through 5 layers of directories, each with 16 directories in them except the last layer, which has 16 files, when it used to take... Well, I have no idea cause I launched the test yesterday at ~10PM and it still hasn\u0027t completed.\n\n(There must be an issue with my mongo setup, one hour sounds like a lot more than what I expect would be needed. `time` reports only 5 seconds of CPU time)",
      "revId": "a2f2e3e9b2debebf6485d6911d169f071c947fe4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51591056_a3a77b8d",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 6
      },
      "lineNbr": 1035,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2021-06-29T09:58:53Z",
      "side": 1,
      "message": "minor: I still think this part and the one below should be mutualized, they almost identical",
      "range": {
        "startLine": 1018,
        "startChar": 12,
        "endLine": 1035,
        "endChar": 13
      },
      "revId": "a2f2e3e9b2debebf6485d6911d169f071c947fe4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6788772c_aa9b7be9",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 6
      },
      "lineNbr": 1035,
      "author": {
        "id": 1018755
      },
      "writtenOn": "2021-06-29T21:40:32Z",
      "side": 1,
      "message": "It\u0027s hard to mutualize gotos, I don\u0027t see any way to do that properly here without an overhead in readability. I\u0027m inclined it\u0027s one of those occasions where duplicating code is worth more than it costs.\n\nIf you can come up with a good alternative though, I\u0027ll take it.",
      "parentUuid": "51591056_a3a77b8d",
      "range": {
        "startLine": 1018,
        "startChar": 12,
        "endLine": 1035,
        "endChar": 13
      },
      "revId": "a2f2e3e9b2debebf6485d6911d169f071c947fe4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53121383_e5f640e7",
        "filename": "src/backends/mongo/mongo.c",
        "patchSetId": 6
      },
      "lineNbr": 1035,
      "author": {
        "id": 1018755
      },
      "writtenOn": "2021-06-30T20:12:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6788772c_aa9b7be9",
      "range": {
        "startLine": 1018,
        "startChar": 12,
        "endLine": 1035,
        "endChar": 13
      },
      "revId": "a2f2e3e9b2debebf6485d6911d169f071c947fe4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}